(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{368:function(t,e,n){var content=n(380);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("18af5dc9",content,!0,{sourceMap:!1})},379:function(t,e,n){"use strict";var o=n(368);n.n(o).a},380:function(t,e,n){e=t.exports=n(12)(!1);var o=n(260)(n(381));e.push([t.i,".login[data-v-44369565]{width:100%;height:100%;background-image:url("+o+");background-size:cover;color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.intro[data-v-44369565]{text-align:center;font-style:italic}.big-title[data-v-44369565]{font-size:100px;bottom:100px;left:100px;position:fixed}.login-form[data-v-44369565]{position:fixed;right:0;top:0;width:30%;background:hsla(0,0%,100%,.1);height:100%}.login-form input[data-v-44369565]{background:none;border:1px solid #fff;color:#fff}.login-form input[data-v-44369565]:focus{box-shadow:0 0 0 .2rem hsla(0,0%,100%,.25)!important}.login-form .btn-register[data-v-44369565]{text-decoration:underline;cursor:pointer;vertical-align:middle;line-height:38px;margin:0;text-align:left;padding-left:20px}",""])},381:function(t,e,n){t.exports=n.p+"img/a233f4f.jpg"},386:function(t,e,n){"use strict";n.r(e);n(26);var o={name:"index",layout:"main",components:{},props:[],data:function(){return{account:"",password:"",errorMessage:{},isLoading:!1,isLoginLoading:!1,isRegLoading:!1,isLoginFbLoading:!1,mode:"login",dob_day:null,dob_month:null,dob_year:null,lifespan:null}},computed:{},mounted:function(){},methods:{register:function(){var t;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",!1);case 2:return this.isLoading="register",e.next=5,regeneratorRuntime.awrap(this.request({url:"/api/register",method:"post",data:{account:this.account,password:this.password,dob_day:this.dob_day,dob_month:this.dob_month,dob_year:this.dob_year,lifespan:this.lifespan}}));case 5:t=e.sent,this.handleLogin(t),this.isLoading=!1;case 8:case"end":return e.stop()}}),null,this)},login:function(){var t;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",!1);case 2:return this.isLoading="login",e.next=5,regeneratorRuntime.awrap(this.request({url:"/api/login",method:"post",data:{account:this.account,password:this.password}}));case 5:t=e.sent,this.handleLogin(t),this.isLoading=!1;case 8:case"end":return e.stop()}}),null,this)},loginFb:function(){if(this.isLoading)return!1;this.isLoading="loginFb";var t=this;t.$fb.getLoginStatus((function(e){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("connected"!==e.status){n.next=2;break}return n.abrupt("return",t.handleLoginFb(e.authResponse.accessToken));case 2:t.$fb.login((function(e){if("connected"===e.status)return t.handleLoginFb(e.authResponse.accessToken);this.isLoading=!1}),{auth_type:"reauthorize"});case 3:case"end":return n.stop()}}))}))},handleLoginFb:function(t){var e;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.request({url:"/api/login-fb",method:"post",data:{access_token:t}}));case 2:e=n.sent,this.handleLogin(e),this.isLoading=!1;case 5:case"end":return n.stop()}}),null,this)},handleLogin:function(t){200!=t.status?this.errorMessage=t.data.messages||{}:(this.errorMessage={},this.$store.commit("auth/saveAuth",t.data.user),this.$router.push("/".concat(t.data.user.account)))}}},r=(n(379),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid login"},[n("span",{staticClass:"intro lj-disable-select",domProps:{innerHTML:t._s(t.$t("login.intro"))}}),t._v(" "),n("div",{staticClass:"big-title lj-disable-select",domProps:{innerHTML:t._s(t.$t("login.bigTitle"))}}),t._v(" "),n("div",{staticClass:"login-form"},[n("form",{staticClass:"p-5 h-100",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("p",{staticClass:"text-center h4 mb-4 lj-disable-select"},[t._v(t._s(t.$t("login.loginTitle_"+t.mode)))]),t._v(" "),n("error-message",{staticClass:"lj-disable-select",attrs:{message:t.errorMessage.common}}),t._v(" "),n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control lj-disable-select",attrs:{placeholder:t.$t("login.account")},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),t._v(" "),n("error-message",{staticClass:"lj-disable-select",attrs:{message:t.errorMessage.account}})],1)]),t._v(" "),n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control lj-disable-select",attrs:{type:"password",placeholder:t.$t("login.password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("error-message",{staticClass:"lj-disable-select",attrs:{message:t.errorMessage.password}})],1)]),t._v(" "),"register"==t.mode?n("div",[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-4"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"},{name:"model",rawName:"v-model",value:t.dob_day,expression:"dob_day"}],staticClass:"form-control lj-disable-select",attrs:{placeholder:t.$t("login.dob_day")},domProps:{value:t.dob_day},on:{input:function(e){e.target.composing||(t.dob_day=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-4"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"},{name:"model",rawName:"v-model",value:t.dob_month,expression:"dob_month"}],staticClass:"form-control lj-disable-select",attrs:{placeholder:t.$t("login.dob_month")},domProps:{value:t.dob_month},on:{input:function(e){e.target.composing||(t.dob_month=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-4"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:t.dob_year,expression:"dob_year"}],staticClass:"form-control lj-disable-select",attrs:{placeholder:t.$t("login.dob_year")},domProps:{value:t.dob_year},on:{input:function(e){e.target.composing||(t.dob_year=e.target.value)}}})]),t._v(" "),n("error-message",{staticClass:"col-12 lj-disable-select",attrs:{message:t.errorMessage.dob_year}})],1),t._v(" "),n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-12"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"},{name:"model",rawName:"v-model",value:t.lifespan,expression:"lifespan"}],staticClass:"form-control lj-disable-select",attrs:{placeholder:t.$t("login.lifespan")},domProps:{value:t.lifespan},on:{input:function(e){e.target.composing||(t.lifespan=e.target.value)}}}),t._v(" "),n("error-message",{staticClass:"lj-disable-select",attrs:{message:t.errorMessage.lifespan}})],1)]),t._v(" "),n("div",{staticClass:"row mb-2"},[n("label",{staticClass:"col-7 label-control btn-register lj-disable-select",on:{click:function(e){t.mode="login",t.errorMessage={}}}},[t._v("\n            "+t._s(t.$t("login.login"))+"\n          ")]),t._v(" "),n("div",{staticClass:"col-5"},["register"!=this.isLoading?n("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:t.register}},[t._v("\n              "+t._s(t.$t("login.registerButton"))+"\n            ")]):t._e(),t._v(" "),"register"==this.isLoading?n("button",{staticClass:"btn btn-success btn-block lj-disabled",attrs:{type:"button"}},[n("Fa",{attrs:{icon:["fas","spinner"]}}),t._v("\n              "+t._s(t.$t("login.registeringButton"))+"\n            ")],1):t._e()])])]):t._e(),t._v(" "),"login"==t.mode?n("div",[n("div",{staticClass:"row mb-2"},[n("label",{staticClass:"col-7 label-control btn-register lj-disable-select",on:{click:function(e){t.mode="register",t.errorMessage={}}}},[t._v("\n            "+t._s(t.$t("login.register"))+"\n          ")]),t._v(" "),n("div",{staticClass:"col-5"},["login"!=this.isLoading?n("button",{staticClass:"btn btn-success btn-block",attrs:{type:"submit"}},[t._v("\n              "+t._s(t.$t("login.loginButton"))+"\n            ")]):t._e(),t._v(" "),"login"==this.isLoading?n("button",{staticClass:"btn btn-success btn-block lj-disabled",attrs:{type:"button"}},[n("Fa",{attrs:{icon:["fas","spinner"]}}),t._v("\n              "+t._s(t.$t("login.loginButton"))+"\n            ")],1):t._e()])])]):t._e(),t._v(" "),"loginFb"!=this.isLoading?n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.loginFb}},[n("Fa",{attrs:{icon:["fab","facebook-square"]}}),t._v("\n        "+t._s(t.$t("login.loginByFacebookButton"))+"\n      ")],1):t._e(),t._v(" "),"loginFb"==this.isLoading?n("button",{staticClass:"btn btn-primary btn-block lj-disabled",attrs:{type:"button"}},[n("Fa",{attrs:{icon:["fas","spinner"]}}),t._v("\n        "+t._s(t.$t("login.logingFb"))+"\n      ")],1):t._e()],1)])])}),[],!1,null,"44369565",null);e.default=component.exports}}]);